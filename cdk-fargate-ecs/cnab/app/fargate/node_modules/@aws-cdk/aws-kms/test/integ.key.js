"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_iam_1 = require("@aws-cdk/aws-iam");
const cdk_1 = require("@aws-cdk/cdk");
const lib_1 = require("../lib");
const app = new cdk_1.App();
const stack = new cdk_1.Stack(app, `aws-cdk-kms-1`);
const key = new lib_1.EncryptionKey(stack, 'MyKey');
key.addToResourcePolicy(new aws_iam_1.PolicyStatement()
    .addAllResources()
    .addAction('kms:encrypt')
    .addAwsPrincipal(new cdk_1.AwsAccountId().toString()));
key.addAlias('alias/bar');
app.run();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcua2V5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcua2V5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsOENBQW1EO0FBQ25ELHNDQUF3RDtBQUN4RCxnQ0FBdUM7QUFFdkMsTUFBTSxHQUFHLEdBQUcsSUFBSSxTQUFHLEVBQUUsQ0FBQztBQUV0QixNQUFNLEtBQUssR0FBRyxJQUFJLFdBQUssQ0FBQyxHQUFHLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFFOUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxtQkFBYSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztBQUU5QyxHQUFHLENBQUMsbUJBQW1CLENBQUMsSUFBSSx5QkFBZSxFQUFFO0tBQzFDLGVBQWUsRUFBRTtLQUNqQixTQUFTLENBQUMsYUFBYSxDQUFDO0tBQ3hCLGVBQWUsQ0FBQyxJQUFJLGtCQUFZLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFFbkQsR0FBRyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUUxQixHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2xpY3lTdGF0ZW1lbnQgfSBmcm9tICdAYXdzLWNkay9hd3MtaWFtJztcbmltcG9ydCB7IEFwcCwgQXdzQWNjb3VudElkLCBTdGFjayB9IGZyb20gJ0Bhd3MtY2RrL2Nkayc7XG5pbXBvcnQgeyBFbmNyeXB0aW9uS2V5IH0gZnJvbSAnLi4vbGliJztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5jb25zdCBzdGFjayA9IG5ldyBTdGFjayhhcHAsIGBhd3MtY2RrLWttcy0xYCk7XG5cbmNvbnN0IGtleSA9IG5ldyBFbmNyeXB0aW9uS2V5KHN0YWNrLCAnTXlLZXknKTtcblxua2V5LmFkZFRvUmVzb3VyY2VQb2xpY3kobmV3IFBvbGljeVN0YXRlbWVudCgpXG4gIC5hZGRBbGxSZXNvdXJjZXMoKVxuICAuYWRkQWN0aW9uKCdrbXM6ZW5jcnlwdCcpXG4gIC5hZGRBd3NQcmluY2lwYWwobmV3IEF3c0FjY291bnRJZCgpLnRvU3RyaW5nKCkpKTtcblxua2V5LmFkZEFsaWFzKCdhbGlhcy9iYXInKTtcblxuYXBwLnJ1bigpO1xuIl19