#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ec2 = require("@aws-cdk/aws-ec2");
const cdk = require("@aws-cdk/cdk");
const autoscaling = require("../lib");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'aws-cdk-autoscaling-integ');
const vpc = new ec2.VpcNetwork(stack, 'VPC', {
    maxAZs: 2
});
const asg = new autoscaling.AutoScalingGroup(stack, 'Fleet', {
    vpc,
    instanceType: new ec2.InstanceTypePair(ec2.InstanceClass.Burstable2, ec2.InstanceSize.Micro),
    machineImage: new ec2.AmazonLinuxImage({ generation: ec2.AmazonLinuxGeneration.AmazonLinux2 }),
});
asg.scaleOnSchedule('ScaleUpInTheMorning', {
    schedule: autoscaling.Cron.dailyUtc(8),
    minCapacity: 5
});
asg.scaleOnSchedule('ScaleDownAtNight', {
    schedule: autoscaling.Cron.dailyUtc(20),
    maxCapacity: 2
});
asg.scaleOnCpuUtilization('KeepCPUReasonable', {
    targetUtilizationPercent: 50
});
app.run();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcuY3VzdG9tLXNjYWxpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnRlZy5jdXN0b20tc2NhbGluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx3Q0FBeUM7QUFDekMsb0NBQXFDO0FBQ3JDLHNDQUF1QztBQUV2QyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUMxQixNQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLDJCQUEyQixDQUFDLENBQUM7QUFFOUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDM0MsTUFBTSxFQUFFLENBQUM7Q0FDVixDQUFDLENBQUM7QUFFSCxNQUFNLEdBQUcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFO0lBQzNELEdBQUc7SUFDSCxZQUFZLEVBQUUsSUFBSSxHQUFHLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7SUFDNUYsWUFBWSxFQUFFLElBQUksR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztDQUMvRixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsZUFBZSxDQUFDLHFCQUFxQixFQUFFO0lBQ3pDLFFBQVEsRUFBRSxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdEMsV0FBVyxFQUFFLENBQUM7Q0FDZixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsZUFBZSxDQUFDLGtCQUFrQixFQUFFO0lBQ3RDLFFBQVEsRUFBRSxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7SUFDdkMsV0FBVyxFQUFFLENBQUM7Q0FDZixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMscUJBQXFCLENBQUMsbUJBQW1CLEVBQUU7SUFDN0Msd0JBQXdCLEVBQUUsRUFBRTtDQUM3QixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgZWMyID0gcmVxdWlyZSgnQGF3cy1jZGsvYXdzLWVjMicpO1xuaW1wb3J0IGNkayA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2NkaycpO1xuaW1wb3J0IGF1dG9zY2FsaW5nID0gcmVxdWlyZSgnLi4vbGliJyk7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5jb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnYXdzLWNkay1hdXRvc2NhbGluZy1pbnRlZycpO1xuXG5jb25zdCB2cGMgPSBuZXcgZWMyLlZwY05ldHdvcmsoc3RhY2ssICdWUEMnLCB7XG4gIG1heEFaczogMlxufSk7XG5cbmNvbnN0IGFzZyA9IG5ldyBhdXRvc2NhbGluZy5BdXRvU2NhbGluZ0dyb3VwKHN0YWNrLCAnRmxlZXQnLCB7XG4gIHZwYyxcbiAgaW5zdGFuY2VUeXBlOiBuZXcgZWMyLkluc3RhbmNlVHlwZVBhaXIoZWMyLkluc3RhbmNlQ2xhc3MuQnVyc3RhYmxlMiwgZWMyLkluc3RhbmNlU2l6ZS5NaWNybyksXG4gIG1hY2hpbmVJbWFnZTogbmV3IGVjMi5BbWF6b25MaW51eEltYWdlKHsgZ2VuZXJhdGlvbjogZWMyLkFtYXpvbkxpbnV4R2VuZXJhdGlvbi5BbWF6b25MaW51eDIgfSksXG59KTtcblxuYXNnLnNjYWxlT25TY2hlZHVsZSgnU2NhbGVVcEluVGhlTW9ybmluZycsIHtcbiAgc2NoZWR1bGU6IGF1dG9zY2FsaW5nLkNyb24uZGFpbHlVdGMoOCksXG4gIG1pbkNhcGFjaXR5OiA1XG59KTtcblxuYXNnLnNjYWxlT25TY2hlZHVsZSgnU2NhbGVEb3duQXROaWdodCcsIHtcbiAgc2NoZWR1bGU6IGF1dG9zY2FsaW5nLkNyb24uZGFpbHlVdGMoMjApLFxuICBtYXhDYXBhY2l0eTogMlxufSk7XG5cbmFzZy5zY2FsZU9uQ3B1VXRpbGl6YXRpb24oJ0tlZXBDUFVSZWFzb25hYmxlJywge1xuICB0YXJnZXRVdGlsaXphdGlvblBlcmNlbnQ6IDUwXG59KTtcblxuYXBwLnJ1bigpOyJdfQ==