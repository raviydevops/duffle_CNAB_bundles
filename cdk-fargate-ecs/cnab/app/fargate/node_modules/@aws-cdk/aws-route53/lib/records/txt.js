"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk_1 = require("@aws-cdk/cdk");
const route53_generated_1 = require("../route53.generated");
const _util_1 = require("./_util");
/**
 * A DNS TXT record
 */
class TXTRecord extends cdk_1.Construct {
    constructor(parent, name, props) {
        super(parent, name);
        // JSON.stringify conveniently wraps strings in " and escapes ".
        const recordValue = JSON.stringify(props.recordValue);
        const ttl = props.ttl === undefined ? 1800 : props.ttl;
        new route53_generated_1.cloudformation.RecordSetResource(this, 'Resource', {
            hostedZoneId: parent.hostedZoneId,
            name: _util_1.determineFullyQualifiedDomainName(props.recordName, parent),
            type: 'TXT',
            resourceRecords: [recordValue],
            ttl: ttl.toString()
        });
    }
}
exports.TXTRecord = TXTRecord;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHh0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidHh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsc0NBQXlDO0FBRXpDLDREQUFzRDtBQUN0RCxtQ0FBNEQ7QUFTNUQ7O0dBRUc7QUFDSCxNQUFhLFNBQVUsU0FBUSxlQUFTO0lBQ3RDLFlBQVksTUFBcUIsRUFBRSxJQUFZLEVBQUUsS0FBcUI7UUFDcEUsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVwQixnRUFBZ0U7UUFDaEUsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdEQsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUV2RCxJQUFJLGtDQUFjLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUNyRCxZQUFZLEVBQUUsTUFBTSxDQUFDLFlBQVk7WUFDakMsSUFBSSxFQUFFLHlDQUFpQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDO1lBQ2pFLElBQUksRUFBRSxLQUFLO1lBQ1gsZUFBZSxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQzlCLEdBQUcsRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFO1NBQ3BCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQWhCRCw4QkFnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdAYXdzLWNkay9jZGsnO1xuaW1wb3J0IHsgSG9zdGVkWm9uZVJlZiB9IGZyb20gJy4uL2hvc3RlZC16b25lLXJlZic7XG5pbXBvcnQgeyBjbG91ZGZvcm1hdGlvbiB9IGZyb20gJy4uL3JvdXRlNTMuZ2VuZXJhdGVkJztcbmltcG9ydCB7IGRldGVybWluZUZ1bGx5UXVhbGlmaWVkRG9tYWluTmFtZSB9IGZyb20gJy4vX3V0aWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRYVFJlY29yZFByb3BzIHtcbiAgcmVjb3JkTmFtZTogc3RyaW5nO1xuICByZWNvcmRWYWx1ZTogc3RyaW5nO1xuICAvKiogQGRlZmF1bHQgMTgwMCBzZWNvbmRzICovXG4gIHR0bD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIEROUyBUWFQgcmVjb3JkXG4gKi9cbmV4cG9ydCBjbGFzcyBUWFRSZWNvcmQgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEhvc3RlZFpvbmVSZWYsIG5hbWU6IHN0cmluZywgcHJvcHM6IFRYVFJlY29yZFByb3BzKSB7XG4gICAgc3VwZXIocGFyZW50LCBuYW1lKTtcblxuICAgIC8vIEpTT04uc3RyaW5naWZ5IGNvbnZlbmllbnRseSB3cmFwcyBzdHJpbmdzIGluIFwiIGFuZCBlc2NhcGVzIFwiLlxuICAgIGNvbnN0IHJlY29yZFZhbHVlID0gSlNPTi5zdHJpbmdpZnkocHJvcHMucmVjb3JkVmFsdWUpO1xuICAgIGNvbnN0IHR0bCA9IHByb3BzLnR0bCA9PT0gdW5kZWZpbmVkID8gMTgwMCA6IHByb3BzLnR0bDtcblxuICAgIG5ldyBjbG91ZGZvcm1hdGlvbi5SZWNvcmRTZXRSZXNvdXJjZSh0aGlzLCAnUmVzb3VyY2UnLCB7XG4gICAgICBob3N0ZWRab25lSWQ6IHBhcmVudC5ob3N0ZWRab25lSWQsXG4gICAgICBuYW1lOiBkZXRlcm1pbmVGdWxseVF1YWxpZmllZERvbWFpbk5hbWUocHJvcHMucmVjb3JkTmFtZSwgcGFyZW50KSxcbiAgICAgIHR5cGU6ICdUWFQnLFxuICAgICAgcmVzb3VyY2VSZWNvcmRzOiBbcmVjb3JkVmFsdWVdLFxuICAgICAgdHRsOiB0dGwudG9TdHJpbmcoKVxuICAgIH0pO1xuICB9XG59XG4iXX0=