"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Route53 requires the record names are specified as fully qualified names, but this
 * forces lots of redundant work on the user (repeating the zone name over and over).
 * This function allows the user to be lazier and offers a nicer experience, by
 * qualifying relative names appropriately:
 *
 * @param providedName the user-specified name of the record.
 * @param zoneName   the fully-qualified name of the zone the record will be created in.
 *
 * @returns <ul>
 *        <li>If +providedName+ ends with a +.+, use it as-is</li>
 *        <li>If +providedName+ ends with +zoneName+, append a trailing +.+</li>
 *        <li>Otherwise, append +.+, +zoneName+ and a trailing +.+</li>
 *      </ul>
 */
function determineFullyQualifiedDomainName(providedName, hostedZone) {
    if (providedName.endsWith('.')) {
        return providedName;
    }
    const suffix = `.${hostedZone.zoneName}`;
    if (providedName.endsWith(suffix)) {
        return `${providedName}.`;
    }
    return `${providedName}${suffix}.`;
}
exports.determineFullyQualifiedDomainName = determineFullyQualifiedDomainName;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX3V0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJfdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBOzs7Ozs7Ozs7Ozs7OztHQWNHO0FBQ0gsU0FBZ0IsaUNBQWlDLENBQUMsWUFBb0IsRUFBRSxVQUF5QjtJQUMvRixJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDOUIsT0FBTyxZQUFZLENBQUM7S0FDckI7SUFFRCxNQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN6QyxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDakMsT0FBTyxHQUFHLFlBQVksR0FBRyxDQUFDO0tBQzNCO0lBRUQsT0FBTyxHQUFHLFlBQVksR0FBRyxNQUFNLEdBQUcsQ0FBQztBQUNyQyxDQUFDO0FBWEQsOEVBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIb3N0ZWRab25lUmVmIH0gZnJvbSAnLi4vaG9zdGVkLXpvbmUtcmVmJztcblxuLyoqXG4gKiBSb3V0ZTUzIHJlcXVpcmVzIHRoZSByZWNvcmQgbmFtZXMgYXJlIHNwZWNpZmllZCBhcyBmdWxseSBxdWFsaWZpZWQgbmFtZXMsIGJ1dCB0aGlzXG4gKiBmb3JjZXMgbG90cyBvZiByZWR1bmRhbnQgd29yayBvbiB0aGUgdXNlciAocmVwZWF0aW5nIHRoZSB6b25lIG5hbWUgb3ZlciBhbmQgb3ZlcikuXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB0aGUgdXNlciB0byBiZSBsYXppZXIgYW5kIG9mZmVycyBhIG5pY2VyIGV4cGVyaWVuY2UsIGJ5XG4gKiBxdWFsaWZ5aW5nIHJlbGF0aXZlIG5hbWVzIGFwcHJvcHJpYXRlbHk6XG4gKlxuICogQHBhcmFtIHByb3ZpZGVkTmFtZSB0aGUgdXNlci1zcGVjaWZpZWQgbmFtZSBvZiB0aGUgcmVjb3JkLlxuICogQHBhcmFtIHpvbmVOYW1lICAgdGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoZSB6b25lIHRoZSByZWNvcmQgd2lsbCBiZSBjcmVhdGVkIGluLlxuICpcbiAqIEByZXR1cm5zIDx1bD5cbiAqICAgICAgICA8bGk+SWYgK3Byb3ZpZGVkTmFtZSsgZW5kcyB3aXRoIGEgKy4rLCB1c2UgaXQgYXMtaXM8L2xpPlxuICogICAgICAgIDxsaT5JZiArcHJvdmlkZWROYW1lKyBlbmRzIHdpdGggK3pvbmVOYW1lKywgYXBwZW5kIGEgdHJhaWxpbmcgKy4rPC9saT5cbiAqICAgICAgICA8bGk+T3RoZXJ3aXNlLCBhcHBlbmQgKy4rLCArem9uZU5hbWUrIGFuZCBhIHRyYWlsaW5nICsuKzwvbGk+XG4gKiAgICAgIDwvdWw+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVGdWxseVF1YWxpZmllZERvbWFpbk5hbWUocHJvdmlkZWROYW1lOiBzdHJpbmcsIGhvc3RlZFpvbmU6IEhvc3RlZFpvbmVSZWYpOiBzdHJpbmcge1xuICBpZiAocHJvdmlkZWROYW1lLmVuZHNXaXRoKCcuJykpIHtcbiAgICByZXR1cm4gcHJvdmlkZWROYW1lO1xuICB9XG5cbiAgY29uc3Qgc3VmZml4ID0gYC4ke2hvc3RlZFpvbmUuem9uZU5hbWV9YDtcbiAgaWYgKHByb3ZpZGVkTmFtZS5lbmRzV2l0aChzdWZmaXgpKSB7XG4gICAgcmV0dXJuIGAke3Byb3ZpZGVkTmFtZX0uYDtcbiAgfVxuXG4gIHJldHVybiBgJHtwcm92aWRlZE5hbWV9JHtzdWZmaXh9LmA7XG59XG4iXX0=