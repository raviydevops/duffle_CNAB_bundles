"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assets_docker_1 = require("@aws-cdk/assets-docker");
/**
 * An image that will be built at synthesis time
 */
class AssetImage extends assets_docker_1.DockerImageAsset {
    constructor(parent, id, props) {
        super(parent, id, { directory: props.directory });
    }
    bind(containerDefinition) {
        this.repository.grantPull(containerDefinition.taskDefinition.obtainExecutionRole());
    }
    get imageName() {
        return this.imageUri;
    }
}
exports.AssetImage = AssetImage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXQtaW1hZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhc3NldC1pbWFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDBEQUEwRDtBQVkxRDs7R0FFRztBQUNILE1BQWEsVUFBVyxTQUFRLGdDQUFnQjtJQUM5QyxZQUFZLE1BQXFCLEVBQUUsRUFBVSxFQUFFLEtBQXNCO1FBQ25FLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTSxJQUFJLENBQUMsbUJBQXdDO1FBQ2xELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUVELElBQVcsU0FBUztRQUNsQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztDQUNGO0FBWkQsZ0NBWUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEb2NrZXJJbWFnZUFzc2V0IH0gZnJvbSAnQGF3cy1jZGsvYXNzZXRzLWRvY2tlcic7XG5pbXBvcnQgY2RrID0gcmVxdWlyZSgnQGF3cy1jZGsvY2RrJyk7XG5pbXBvcnQgeyBDb250YWluZXJEZWZpbml0aW9uIH0gZnJvbSAnLi4vY29udGFpbmVyLWRlZmluaXRpb24nO1xuaW1wb3J0IHsgSUNvbnRhaW5lckltYWdlIH0gZnJvbSAnLi4vY29udGFpbmVyLWltYWdlJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3NldEltYWdlUHJvcHMge1xuICAvKipcbiAgICogVGhlIGRpcmVjdG9yeSB3aGVyZSB0aGUgRG9ja2VyZmlsZSBpcyBzdG9yZWRcbiAgICovXG4gIGRpcmVjdG9yeTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFuIGltYWdlIHRoYXQgd2lsbCBiZSBidWlsdCBhdCBzeW50aGVzaXMgdGltZVxuICovXG5leHBvcnQgY2xhc3MgQXNzZXRJbWFnZSBleHRlbmRzIERvY2tlckltYWdlQXNzZXQgaW1wbGVtZW50cyBJQ29udGFpbmVySW1hZ2Uge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQ6IGNkay5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBBc3NldEltYWdlUHJvcHMpIHtcbiAgICBzdXBlcihwYXJlbnQsIGlkLCB7IGRpcmVjdG9yeTogcHJvcHMuZGlyZWN0b3J5IH0pO1xuICB9XG5cbiAgcHVibGljIGJpbmQoY29udGFpbmVyRGVmaW5pdGlvbjogQ29udGFpbmVyRGVmaW5pdGlvbik6IHZvaWQge1xuICAgIHRoaXMucmVwb3NpdG9yeS5ncmFudFB1bGwoY29udGFpbmVyRGVmaW5pdGlvbi50YXNrRGVmaW5pdGlvbi5vYnRhaW5FeGVjdXRpb25Sb2xlKCkpO1xuICB9XG5cbiAgcHVibGljIGdldCBpbWFnZU5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VVcmk7XG4gIH1cbn1cbiJdfQ==